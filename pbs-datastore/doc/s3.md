# File Analysis: `s3.rs`

## Overview
**Role:** S3 Path Translator

`s3.rs` acts as a translation layer between Proxmox Backup Server's logical paths and Amazon S3's flat object key structure.

## Core Logic
* **Prefixing:** S3 does not have real folders. `s3.rs` defines standard prefixes to simulate the PBS directory structure in a bucket.
    * `backup/` -> root
    * `backup/vm/100/...` -> specific group
* **Path Mapping:**
    * Converts `BackupGroup` -> `S3PathPrefix` (e.g., `content/vm/100`)
    * Converts `BackupDir` -> `S3PathPrefix` (e.g., `content/vm/100/2023-01-01T...`)
* **Object Keys:** Defines the mapping for special files:
    * `index.json` -> `.../index.json`
    * `owner` -> `.../owner`

This abstraction allows the core `backup_info.rs` logic to remain mostly cleaner, delegating the string manipulation required for S3 APIs to this file.

---
*Analysis generated based on source code.*